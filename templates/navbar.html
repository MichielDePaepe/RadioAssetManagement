{% load static i18n%}

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid container-md">

    <a class="navbar-brand d-flex align-items-center" href="{% url 'home' %}">
      <img src="{% static 'icon.svg' %}" alt="Logo" height="30">
      <span class="ms-2">Radio Asset Management</span>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav me-2">

        <li class="nav-item">
          <a class="nav-link" href="{% url 'organization:list_posts' %}">
            <i class="bi bi-list-check"></i> {% trans "Inventory" %}
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="{% url 'inventory:posts_list' %}">
            <i class="bi bi-qr-code-scan"></i> {% trans "Scanner" %}
          </a>
        </li>


        {% if user.is_authenticated %}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="radioDropdown" role="button" data-bs-toggle="dropdown">
              <i class="fa fa-walkie-talkie"></i> Radio
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="radioDropdown">
              <li><a class="dropdown-item" href="{% url 'radio:find' %}"><i class="bi bi-search"></i> {% trans "Find" %}</a></li>
              {% if perms.radio.add_radio %}
              <li><a class="dropdown-item" href="{% url 'radio:create' %}"><i class="bi bi-plus-circle"></i> {% trans "Add radio" %}</a></li>
              {% endif %}
              {% if perms.radio.can_create_decommission_requests %}
              <li><a class="dropdown-item" href="{% url 'radio:decommissioning_request' %}"><i class="bi bi-slash-circle"></i> {% trans "Decommissioning request" %}</a></li>
              {% endif %}
            </ul>
          </li>
        {% endif %} 

        {% if user.is_authenticated %}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="astridDropdown" role="button" data-bs-toggle="dropdown">
              <span class="svg-icon align-top">
                {% include "svg/astrid_logo.svg" %}
              </span> Astrid
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="astridDropdown">
              {% if perms.radio.can_upload_subscriptions %}
              <li><a class="dropdown-item" href="{% url 'astrid:upload_subscriptions' %}"><i class="bi bi-cloud-upload"></i> {% trans "Upload subscriptions" %}</a></li>
              <li><hr class="dropdown-divider"></li>
              {% endif %}
              <li><a class="dropdown-item" href="{% url 'astrid:vtei_request' %}"><i class="fa-solid fa-repeat"></i> {% trans "VTEI request" %}</a></li>
              <li><a class="dropdown-item" href="{% url 'astrid:vtei_request' %}"><i class="fa-solid fa-shuffle"></i></i> {% trans "VTEI & VISSI request" %}</a></li>
              <li><a class="dropdown-item" href="{% url 'astrid:activation_request' %}"><i class="fa-solid fa-circle-play"></i></i> {% trans "Activation request" %}</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="{% url 'astrid:request_overview' %}"><i class="bi bi-list-ul"></i></i> {% trans "Overzicht van aanvragen" %}</a></li>

            </ul>
          </li>
        {% endif %}

        {% if perms.taqto.tacto_user %}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="taqtoDropdown" role="button" data-bs-toggle="dropdown">
              <span class="svg-icon align-top">
                {% include "svg/airbus_logo.svg" %}
              </span> Taqto
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="taqtoDropdown">
              {% if perms.taqto.can_download_contacts %}
              <li><a class="dropdown-item" href="{% url 'taqto:contacts_download' %}"><i class="bi bi-person-lines-fill"></i> {% trans "Download contacts" %}</a></li>
              {% endif %}
            </ul>
          </li>
        {% endif %}

        {% if user.is_authenticated %}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
              <i class="bi bi-person-circle"></i> {{ user.username }}
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
              {% language 'en' %}
              <li><a class="dropdown-item" href="{% url 'admin:index' %}"><i class="bi bi-speedometer2"></i> {% trans "Admin" %}</a></li>
              {% endlanguage %}
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="{% url 'logout' %}"><i class="bi bi-box-arrow-right"></i> {% trans "Logout" %}</a></li>
            </ul>
          </li>
        {% else %}
          <li class="nav-item">
            <a class="nav-link" href="{% url 'login' %}"><i class="bi bi-box-arrow-in-right"></i> {% trans "Login" %}</a>
          </li>
        {% endif %}

        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="langDropdown" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-globe"></i>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="langDropdown">
            {% if request.LANGUAGE_CODE != 'nl' %}
            <li>
              <a class="dropdown-item" href="/nl/">
                <img src="{% static 'flags/nl.svg' %}" class="align-text-bottom" height="16" alt="Nederlands"> Nederlands
              </a>
            </li>
            {% endif %}
            {% if request.LANGUAGE_CODE != 'fr' %}
            <li>
              <a class="dropdown-item" href="/fr/">
                <img src="{% static 'flags/fr.svg' %}" class="align-text-bottom" height="16" alt="Français"> Français
              </a>
            </li>
            {% endif %}
            {% if request.LANGUAGE_CODE != 'en' %}
            <li>
              <a class="dropdown-item" href="/en/">
                <img src="{% static 'flags/gb.svg' %}" class="align-text-bottom" height="16" alt="English"> English
              </a>
            </li>
            {% endif %}
          </ul>
        </li>



      </ul>
    </div>

  </div>
</nav>