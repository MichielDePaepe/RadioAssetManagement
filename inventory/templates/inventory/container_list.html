{% extends "base.html" %}

{% block title %}{{ container }}{% endblock %}

{% block content %}
  <div class="container mt-4">

    <h1 class="h3">Inventaris</h1>
    {% if container %}
      <h2 class="h5 text-muted">{{ container }}</h2>
    {% endif %}

    <div class="list-group my-4">
      {% for container in children %}
        {% if container.children.exists %}
          <a href="{% url 'inventory:container_list' container.id %}" 
             class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            {{ container.name }}
            <div class="d-flex align-items-center gap-2">
              {% if container.status == 'danger' %}
                <i class="bi bi-exclamation-triangle-fill text-danger"></i>
              {% elif container.status == 'warning' %}
                <i class="bi bi-exclamation-triangle-fill text-warning"></i>
              {% endif %}
              <span class="badge rounded-pill bg-{{ container.status }}">{{ container.radios_with_assignment }}</span>
            </div>
          </a>
        {% else %}
          <a href="{% url 'inventory:inventory' container.id %}" 
             class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            {{ container.name }}
            <div class="d-flex align-items-center gap-2">
              {% if container.status == 'danger' %}
                <i class="bi bi-exclamation-triangle-fill text-danger"></i>
              {% elif container.status == 'warning' %}
                <i class="bi bi-exclamation-triangle-fill text-warning"></i>
              {% endif %}
              <span class="badge rounded-pill bg-{{ container.status }}">{{ container.radios_with_assignment }}</span>
            </div>
          </a>
        {% endif %}
      {% endfor %}
    </div>

    {% if container.parent %}
      <a href="{% url 'inventory:container_list' container.parent.id %}" class="btn btn-secondary mb-3">
        <i class="bi bi-chevron-left"></i>
        {{ container.parent }} 
      </a>
    {% elif container %}
      <a href="{% url 'inventory:posts_list' %}" class="btn btn-secondary mb-3">
        <i class="bi bi-chevron-left"></i> Posten
      </a>
    {% endif %}
    
  </div>
{% endblock %}
